All tests were run through the P4 Tutorial Virtual Machine using VirtualBox.

First, download the repo from GitHub: https://github.com/jkim117/IWSpring2020

cd into IWSpring2020/tutorial/exercises/calc2

Note that calc2.p4 is just a copy of proto1.p4

Next, type: "make run"

Once Mininet is running, type "xterm h1"

In the new terminal, cd to a directory with the pcap file of your choice and execute:

"tcpreplay -i eth0 myfile.pcap"

Now, in the main terminal running Mininet, type "xterm s1"

In that new terminal type "simple_switch_CLI"

Then type: "register_read table_name"

Where table_name is one of these:

packet_counts_table (number of packets sent or received to this domain. Index is domain ID)
byte_counts_table (number of bytes sent or received to this domain. Index is domain ID)
dns_total_queried (number of total dns responses that were parsed)
dns_total_missed (number of dns responses that could not be fully processed because there is not enough room in the dns responses table)